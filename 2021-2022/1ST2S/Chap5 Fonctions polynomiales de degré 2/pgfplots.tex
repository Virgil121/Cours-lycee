\documentclass[a4paper,12pt,french]{article}

\usepackage{lipsum}
\usepackage[a4paper,margin=15mm,marginparwidth=15mm,marginparsep=0mm]{geometry}
\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsfonts,amssymb,amsmath}
\usepackage{stmaryrd} % pour \llbracket
\usepackage[explicit]{titlesec}
\usepackage{setspace}
\usepackage{dsfont}
\usepackage{tabularx,tabulary}
\usepackage{mathrsfs}
\usepackage{marginnote}
\usepackage[svgnames,rgb,dvipsnames]{xcolor}
\usepackage{graphicx}
\usepackage[thref,framed,thmmarks]{ntheorem}
\usepackage[most]{tcolorbox}
\usepackage{framed}
\usepackage{comment}
\usepackage{ragged2e}
\usepackage{microtype}
\usepackage{ifthen}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{cancel}
\usepackage{diagbox}
\usepackage{fancyhdr}
\usepackage{eurosym}
\usepackage{icomma}
\usepackage{xstring}
\usepackage{etoolbox}
\usepackage{xpatch}
\usepackage[d]{esvect}

%\usepackage[pdfauthor={Virgil Delauney}]{hyperref}
%\usepackage{fourier-otf}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows.meta}
\usepackage{pgfplots}
\usepackage{tkz-tab}

\newcommand{\echellepgf} {4/5}
\newcommand{\echellepgfinv} {5/4}

\pgfplotsset{ % Pas besoin de "styleglobal" en fait ... Important: ne pas faire xscale mais x post scale pour conserver la taille des ticks
compat=1.18,
styleglobal/.style={
height=\pgfkeysvalueof{/pgfplots/width}*(((\pgfkeysvalueof{/pgfplots/ymax})+((-1)*(\pgfkeysvalueof{/pgfplots/ymin})))/((\pgfkeysvalueof{/pgfplots/xmax})+((-1)*(\pgfkeysvalueof{/pgfplots/xmin}))))+0.1pt, %Hauteur auto en fonction des coordonnées et de l'échelle
axis x line=bottom,
axis y line = left,
axis lines=middle,
axis line style={-{Stealth}}, %Plus grosse flèche
tick label style = {font=\footnotesize},
scale only axis, %Pour bien tomber sur la grille
xlabel={$x$},
ylabel={$y$},
label style= {font=\scriptsize},
minor x tick num=1, %Sous graduations
minor y tick num=1,
%xtick distance=1, %Graduations
%ytick distance=1,
enlargelimits={0.001},
grid=both,
grid style={densely dashed,line width=0.4pt},
minor grid style={line width=0.1pt},
axis equal,
legend pos=north east
},
styleplot/.style={
samples=101,
smooth,
line width=1.3pt,
mark=none
},
labelgros/.style={
label style= {font=\Large},
tick label style = {font=\Large}
},
hauteurproptick/.style={
height=\pgfkeysvalueof{/pgfplots/width}*((\pgfkeysvalueof{/pgfplots/xtick distance}/\pgfkeysvalueof{/pgfplots/ytick distance})*((\pgfkeysvalueof{/pgfplots/ymax})+((-1)*(\pgfkeysvalueof{/pgfplots/ymin})))/((\pgfkeysvalueof{/pgfplots/xmax})+((-1)*(\pgfkeysvalueof{/pgfplots/xmin})))),
axis equal=false,
enlargelimits=0.001,
}
}

\pgfkeys{/pgf/number format/use comma,/pgf/number format/.cd,1000 sep={\,}}

\newcommand{\pointsextremites}{node[pos=0,circle,minimum size=1pt,fill,inner sep=1pt,fill opacity=1] {} node[pos=1,circle,minimum size=1pt,fill,inner sep=1pt,fill opacity=1] {}}

\tikzset{
stylepoint/.style={
	draw=black,
	color=black,
	circle,
	minimum size=1pt,
	fill,
	inner sep=2pt,
	fill opacity=1
},
}

% Début du document
%%%%%%%%%%%%%%%%%%%

\begin{document}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.7*\linewidth,
xmin=-7, xmax=7,
ymin=-4.5, ymax=6,
xtick distance=1,
ytick distance=1,
domain=(-7:7),
]
\addplot[styleplot]{x^2} node[pos=0.55,right] {$\mathscr C_f:\fbox{a>0}$};
\addplot[styleplot,color=red,domain=(-6:-2)]{3*(x+4)^2-4} node[pos=0.82,left] {$\mathscr C_g:\fbox{a>0}$};
\addplot[color=blue,styleplot]{2-0.25*(x-1)^2} node[pos=0.8,right] {$\mathscr C_h:\fbox{a<0}$};
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.7*\linewidth,
xmin=-3, xmax=5,
ymin=-1.5, ymax=1.5,
xtick distance=1,
ytick distance=1,
domain=(-6:6),
]
\addplot[styleplot]{0.7-0.5*(x-1.3)^2} node[pos=0.53,right] {$\mathscr C_f$};
\node[stylepoint,fill=red] (S) at (1.3,0.7) {};
\node (sommet) at (2.3,1.2) {Sommet};
\draw[->,>=latex,thick] (sommet.west) to[bend right=10] (S);
\draw[color=DarkRed,thick,densely dashed] (S) -- (1.3,0) node[pos=1,below] {$s$};
\draw[color=DarkRed,thick,densely dashed] (S) -- (0,0.7) node[pos=1,left] {$f(s)$};
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
%hauteurproptick,
width=0.7*\linewidth,
xmin=-7, xmax=7,
ymin=-4, ymax=5,
xtick distance=1,
ytick distance=2,
y post scale=0.5,
domain=(-7:7),
]
\addplot[styleplot]{x^2} node[pos=0.55,right] {$\mathscr C_f:\fbox{a>0}$};
\addplot[styleplot,color=red,domain=(-2:2)]{3*(x)^2-3} node[pos=0.54,right] {$\mathscr C_g:\fbox{a>0}$};
\addplot[color=blue,styleplot]{2-0.25*(x)^2} node[pos=0.7,right] {$\mathscr C_h:\fbox{a<0}$};
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.9*\linewidth,
xmin=-2.5, xmax=2.5,
ymin=-0.5, ymax=5,
xtick distance=1,
ytick distance=1,
domain=(-6:6),
]
\addplot[styleplot]{2*x^2+1} node[pos=0.525,right] {$\mathscr C_f$};
\node[stylepoint,fill=blue,label={-60:A}] at (1,3) {};
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.7*\linewidth,
xmin=-2, xmax=6,
ymin=-1, ymax=2,
xtick distance=1,
ytick distance=1,
domain=(-6:6),
]
\addplot[styleplot]{0.5*(x-1)*(x-3)} node[pos=0.52,right] {$\mathscr C_f$};
\node[stylepoint,fill=red] (S) at (2,-0.5) {};
\node (sommet) at (3,-0.7) {Sommet};
\draw[->,>=latex,thick] (sommet.west) to[bend left=10] (S);
\node[stylepoint,fill=blue] (x1) at (1,0) {};
\node[stylepoint,fill=blue] (x2) at (3,0) {};
\node (racines) at (2,1) {Racines};
\draw[->,>=latex,thick] (racines) to[bend right=10] (x1);
\draw[->,>=latex,thick] (racines) to[bend left=10] (x2);
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
%hauteurproptick,
width=0.7*\linewidth,
xmin=-6, xmax=4,
ymin=-5, ymax=20,
xtick distance=1,
ytick distance=5,
domain=(-6:6),
y post scale=0.2,
]
\addplot[styleplot]{-2*(x-2)*(x+4)} node[pos=0.52,right] {$\mathscr C_f$};
\node[stylepoint,fill=blue] (x1) at (2,0) {};
\node[stylepoint,fill=blue] (x2) at (-4,0) {};
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}
\begin{axis}[
styleglobal,
width=0.6*\linewidth,
xmin=-8, xmax=6,
ymin=-3, ymax=5,
domain=(-6:6),
]
\addplot[styleplot]{0.5*(x-1)*(x+3)} node[pos=0.52,right] {$\mathscr C_f$};
\node at (0,1) {};
\end{axis}
\end{tikzpicture}

\renewcommand{\echellepgf}{0.5}\renewcommand{\echellepgfinv}{2}

\centering \begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.7*\linewidth,
xmin=-3, xmax=5,
ymin=-1.5, ymax=1.5,
xtick distance=1,
ytick distance=1,
domain=(-6:6),
]
\addplot[styleplot]{0.7-0.5*(x-1.3)^2} node[pos=0.53,right] {$\mathscr C_f$};
\node[stylepoint,fill=red] (S) at (1.3,0.7) {};
\node (sommet) at (2.3,1.2) {Sommet};
\draw[->,>=latex,thick] (sommet.west) to[bend right=10] (S);
\draw[color=DarkRed,thick,densely dashed] (S) -- (1.3,0) node[pos=1,below] {$s$};
\draw[color=DarkRed,thick,densely dashed] (S) -- (0,0.7) node[pos=1,left] {$f(s)$};
\end{axis}
\end{tikzpicture}

\centering \begin{tikzpicture}
\begin{axis}[
styleglobal,
hauteurproptick,
width=0.7*\linewidth,
xmin=-3, xmax=5,
ymin=-1.5, ymax=1.5,
xtick distance=1,
ytick distance=1,
domain=(-6:6),
scale=\echellepgfinv,
execute at begin axis={\edef\tikzscale{0.5}},
%xscale=\echellepgf,
%yscale=\echellepgf,
]
\addplot[styleplot]{0.7-0.5*(x-1.3)^2} node[pos=0.53,right] {$\mathscr C_f$};
\node[stylepoint,fill=red] (S) at (1.3,0.7) {};
\node (sommet) at (2.3,1.2) {Sommet};
\draw[->,>=latex,thick] (sommet.west) to[bend right=10] (S);
\draw[color=DarkRed,thick,densely dashed] (S) -- (1.3,0) node[pos=1,below] {$s$};
\draw[color=DarkRed,thick,densely dashed] (S) -- (0,0.7) node[pos=1,left] {$f(s)$};
\end{axis}
\end{tikzpicture}

\end{document}
