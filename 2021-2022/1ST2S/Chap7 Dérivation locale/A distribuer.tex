\documentclass[a4paper,12pt,french]{article}

\usepackage[cours,NB]{../../Style}

\pagestyle{empty}

\geometry{margin=1cm}

\newcommand{\contenua}{
\compo
{
\begin{center}
\begin{tikzpicture}
\begin{axis}[
styleglobal,
width=0.9*\linewidth,
xmin=-3, xmax=5,
ymin=-1, ymax=4,
xtick distance=1,
ytick distance=1,
minor x tick num=1,
minor y tick num=1,
declare function={f(\x)=-0.5*(\x-1)*(\x-1)+3;}%0.2*\x*(\x+2)*(\x-3);}
]
\addplot[styleplot] {f(x)} node[pos=0.76,left] {$\mathscr C_f$};
\node[stylepoint,fill=blue,label=above right:$A$] (A) at (2,{f(2)}) {};
\node[stylepoint,fill=blue,label=above left:$B$] (B) at (-1,{f(-1)}) {};

\draw[color=blue,dashed,very thick] (2, 0) -- (A);%node [pos=0,below] {$a$};
\draw[color=blue,dashed,very thick] (-1, 0) -- (B);% node [pos=0,below] {$a+h$};

\addplot[styleplot,densely dashed,color=DarkBlue] {{-1*(x-2)+f(2)}};
\addplot[styleplot,densely dashed,color=DarkRed] {{2*(x+1)+f(-1)}};

\draw[->,thick,color=DarkBlue] (A) -- (4,{f(2)});
\draw[->,thick,color=DarkBlue] (4,{f(2)}) -- (4,0.5);
\draw[->,thick,color=DarkRed] (B) -- (-1,3);
\draw[->,thick,color=DarkRed] (-1,3) -- (0,3);

\end{axis}
\end{tikzpicture}
\end{center}
}
{
\begin{center}
\begin{tikzpicture}
\begin{axis}[
styleglobal,
width=0.9*\linewidth,
xmin=-3, xmax=5,
ymin=-1, ymax=4,
xtick distance=1,
ytick distance=1,
minor x tick num=1,
minor y tick num=1,
declare function={f(\x)=-0.5*(\x-1)*(\x-1)+3;}%0.2*\x*(\x+2)*(\x-3);}
]
\addplot[styleplot] {f(x)} node[pos=0.76,left] {$\mathscr C_f$};
\node[stylepoint,fill=blue,label=above right:$A$] (A) at (2,{f(2)}) {};
\node[stylepoint,fill=blue,label=above left:$B$] (B) at (-1,{f(-1)}) {};

\draw[color=blue,dashed,very thick] (2, 0) -- (A);%node [pos=0,below] {$a$};
\draw[color=blue,dashed,very thick] (-1, 0) -- (B);% node [pos=0,below] {$a+h$};

\addplot[styleplot,densely dashed,color=DarkBlue] {{-1*(x-2)+f(2)}};
\addplot[styleplot,densely dashed,color=DarkRed] {{2*(x+1)+f(-1)}};

\draw[->,thick,color=DarkBlue] (A) -- (4,{f(2)});
\draw[->,thick,color=DarkBlue] (4,{f(2)}) -- (4,0.5);
\draw[->,thick,color=DarkRed] (B) -- (-1,3);
\draw[->,thick,color=DarkRed] (-1,3) -- (0,3);

\end{axis}
\end{tikzpicture}
\end{center}
}
}


% DÃ©but du document
%%%%%%%%%%%%%%%%%%%

\begin{document}

\contenua \vfill \contenua \vfill \contenua \vfill \contenua% \vfill \contenua \vfill \contenua
%
%\newpage
%
%\contenub \vfill \contenub% \vfill \contenub \vfill \contenub% \contenub \vfill
%
%\newpage
%
%\vfill \contenuc \vfill \contenuc \vfill \contenuc \vfill \contenuc \vfill \contenuc \vfill
%
%\newpage
%
%\contenud \vfill \contenud \vfill \contenud \vfill \contenud \vfill \contenud
%
%\newpage
%
%\contenue \vfill \contenue \vfill \contenue
%
%\newpage
%
%\contenuf \vfill \contenuf \vfill \contenuf

%\contenua \contenub \contenuc \contenud \contenuee \contenuf

\end{document}
