\documentclass[a4paper,french,12pt]{article}
\usepackage{titling}
\usepackage{sectsty}
%\usepackage[toctitles]{titlesec}
\usepackage[eleve,cours]{../../Style}
\usepackage[subpreambles=false]{standalone}
\usepackage{anyfontsize}
%\PassOptionsToPackage{toctitles}{titlesec}
\usepackage{titletoc}
\hypersetup{linktoc=all,hypertexnames=false,pdftitle={Mathématiques: 1ST2S 2021-2022}}


\renewcommand{\progres}{} % Commande progrès termine le document en version élève, on en veut pas ici


% CODE TRES MOCHE A REVOIR - toc
%%%%%%%%%%%%%%%%%

% Lien vers toc sur numéro page

\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\hyperlink{page.2}{\thepage}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

\setcounter{tocdepth}{1} % Voir chapitres et sections, pas plus loin
\newcounter{chapitre}\setcounter{chapitre}{-1} % Chapitre initialisé à -1, on le remet à 0 après le toc (comme ca on peut tester si on affiche le premier chapitre dans le toc)

\makeatletter

\renewcommand\tableofcontents{%
	\titre{Table des matières} % Titre
	\thispagestyle{empty} % Enlever numéro page
    \@starttoc{toc}%
    \setcounter{page}{0} % Remettre page à 0 ( commencera à 1 )
    % A chaque titre après le toc, on crée un marqueur et on ajoute le chapitre dans le toc
	\xpatchcmd\@maketitle{\thanks}{\thanks% Patch de la commande nécessaire, si on met cela après \centering ... \thanks, on a un espace moche
		\refstepcounter{part}%
    	\tikz[overlay,remember picture]{\node at (current page.north) {\phantomsection};}% tikz pour mettre le lien tout en haut de la page
    	\addcontentsline{toc}{part}{Chapitre \Roman{chapitre}.\ \@title}%Modifie commande titre après pour mettre une ref. Chapitre X dedans pour que l'hyperlien le prenne en compte
    }{}{}
}
\makeatother

% Styles toc
\def\stylepart{\fontfamily{cmr}\fontseries{bx}\selectfont\large\scshape\color{section}}

\titlecontents{part}[0pt]%
{\ifthenelse{\equal{\value{chapitre}}{-1}}{\setcounter{chapitre}{0}}{\vfill}\stylepart}%{\vspace{5mm}\normalfont\large\bfseries\color{section}}%
{}%
{}%{Chapitre \stepcounter{chapitre}\Roman{chapitre}.\ }%
%{\makebox[\longueurchap][l]{Chapitre \stepcounter{chapitre}\Roman{chapitre}.}}%
{\dotfill \contentspage}%[{\color{gray}\hrule}] % Gros hack pour afficher le chapitre... % Tester \ref{page.\thecontentspage}

\titlecontents{section}[0.1\linewidth]%
{\normalfont\bfseries\color{subsection}}%
{\thecontentslabel\ - }%
{}%
{\hfill \contentspage}%[{\color{gray}\hrule}]

%%%%%%%%%%%%%%%%%%%%

\newcommand{\chap}[1]{%
%\addcontentsline{toc}{part}{#1}
\stepcounter{chapitre}%
\input{#1}%
\setcounter{section}{0}\newpage
}

\begin{document}
\thispagestyle{empty}
\include{Cover}
%
\tableofcontents
%
\chap{../Chap1 Proportions Variations/cours}
\chap{../Chap2 Généralités fonctions/cours v2}
\chap{../Chap3 Généralités Suites/cours}
\chap{../Chap4 Fonctions affines/cours}
\chap{../Chap5 Fonctions polynomiales de degré 2/cours v4}
\chap{../Chap6 Suites arithmétiques géométriques/cours}
\chap{../Chap7 Dérivation locale/cours}
\chap{../Chap8 Probas conditionnelles/cours}
\chap{../Chap9 Dérivation globale/cours}
\chap{../Chap10 Variables aléatoires/cours}
\end{document}